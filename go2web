#!/bin/bash

cd "$(dirname "$0")"

mkdir -p target/classes/org/uni

# Compile if needed
if [ ! -f "target/classes/org/uni/Go2Web.class" ] || [ "src/main/java/org/uni/Go2Web.java" -nt "target/classes/org/uni/Go2Web.class" ]; then
    echo "Compiling Java code..."
    javac -d target/classes src/main/java/org/uni/Go2Web.java \
        src/main/java/org/uni/http/HttpClient.java \
        src/main/java/org/uni/html/HtmlParser.java \
        src/main/java/org/uni/search/SearchService.java
fi

# Run the application
java -cp target/classes org.uni.Go2Web "$@"